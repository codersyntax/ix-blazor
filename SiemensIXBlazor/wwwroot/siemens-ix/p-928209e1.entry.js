import{r as t,c as e,a as o,h as i,F as a,H as s,g as r}from"./p-f87cd962.js";import{s as n}from"./p-0ca3528f.js";import{a as h}from"./p-fbe017b7.js";import{a as l,A as c}from"./p-accec846.js";import{m as d}from"./p-c146af8e.js";import{h as p}from"./p-345e1c73.js";import"./p-46a6cd9d.js";import"./p-6e6efb4c.js";import"./p-c4749812.js";import"./p-68a274e7.js";const m=":host{display:flex;align-items:flex-end;flex-wrap:nowrap;position:relative;width:100%;height:calc(2.75rem + var(--ix-safe-area-inset-top, 0rem));min-height:calc(2.75rem + var(--ix-safe-area-inset-top, 0rem));padding-top:0;padding-right:calc(1rem + var(--ix-safe-area-inset-right, 0rem));padding-bottom:0.3rem;padding-left:calc(0.625rem + var(--ix-safe-area-inset-left, 0rem));color:var(--theme-app-header--color);background-color:var(--theme-app-header--background);border-bottom:var(--theme-app-header--border-width) solid var(--theme-app-header--border-color);z-index:var(--theme-z-index-fixed)}:host *,:host *::after,:host *::before{box-sizing:border-box}:host ::-webkit-scrollbar-button{display:none}@-moz-document url-prefix(){:host *{scrollbar-color:var(--theme-scrollbar-thumb--background) var(--theme-scrollbar-track--background);scrollbar-width:thin}}:host ::-webkit-scrollbar{width:0.5rem;height:0.5rem}:host ::-webkit-scrollbar-track{border-radius:5px;background:var(--theme-scrollbar-track--background)}:host ::-webkit-scrollbar-track:hover{background:var(--theme-scrollbar-track--background--hover)}:host ::-webkit-scrollbar-thumb{border-radius:5px;background:var(--theme-scrollbar-thumb--background)}:host ::-webkit-scrollbar-thumb:hover{background:var(--theme-scrollbar-thumb--background--hover)}:host ::-webkit-scrollbar-corner{display:none}:host .app-switch{margin-right:1rem}:host .name{overflow:hidden;overflow-wrap:anywhere;text-overflow:ellipsis;text-wrap:nowrap;max-width:50%;margin-left:1.5rem;margin-right:2.5rem;margin-bottom:0.25rem;color:var(--theme-app-header--color)}:host .logo{display:inline-flex;align-items:center;position:relative;height:32px;overflow:hidden;line-height:0rem;color:var(--theme-app-header-logo--color);margin-left:0.375rem}:host .content{display:flex;position:relative;flex-direction:row;margin-left:auto;margin-right:0px}:host .dropdown{overflow:visible}:host .dropdown-content{padding:1rem}:host .context-menu{display:none}:host .context-menu.context-menu-visible{display:block}@media only screen and (max-width: 48em){:host .logo{display:none}}:host ::slotted(ix-avatar){margin-left:1rem}:host(.breakpoint-sm) .logo{margin-left:0.5rem}";const b=m;const u=class{constructor(o){t(this,o);this.menuToggle=e(this,"menuToggle",7);this.name=undefined;this.showMenu=false;this.breakpoint="lg";this.menuExpanded=false;this.suppressResponsive=false;this.hasSlottedElements=false;this.applicationLayoutContext=undefined}get contentBackground(){return this.hostElement.shadowRoot.querySelector(".dropdown-content")}componentWillLoad(){l(this.hostElement,c,(t=>{if((t===null||t===void 0?void 0:t.host)==="map-navigation"){this.suppressResponsive=true;this.breakpoint="md";return}this.breakpoint=h.breakpoint;this.applicationLayoutContext=t;this.tryUpdateAppSwitch()}),true);this.menuDisposable=d.expandChange.on((t=>{this.menuExpanded=t}));this.modeDisposable=h.onChange.on((t=>{if(this.suppressResponsive){return}this.breakpoint=t}));this.updateIsSlottedContent()}componentDidLoad(){this.attachSiemensLogoIfLoaded()}disconnectedCallback(){var t,e;(t=this.menuDisposable)===null||t===void 0?void 0:t.dispose();(e=this.modeDisposable)===null||e===void 0?void 0:e.dispose()}watchApplicationLayoutContext(){if(this.applicationLayoutContext){this.showMenu=false}}watchSuppressResponsive(){this.breakpoint="md"}isLogoSlotted(){const t=this.hostElement.shadowRoot.querySelector('slot[name="logo"]');const e=t.assignedNodes({flatten:true});return e.length!==0}async attachSiemensLogoIfLoaded(){await window.customElements.whenDefined("ix-siemens-logo");const t=document.createElement("ix-siemens-logo");if(!this.isLogoSlotted()){this.hostElement.shadowRoot.querySelector(".logo").appendChild(t)}}async onMenuClick(){if(this.applicationLayoutContext){d.toggle()}else{this.menuExpanded=!this.menuExpanded}this.menuToggle.emit(this.menuExpanded)}resolveContextMenuButton(){return new Promise((t=>o((()=>t(this.hostElement.shadowRoot.querySelector("[data-context-menu]"))))))}tryUpdateAppSwitch(){var t;if(!this.callbackUpdateAppSwitchModal){return}this.callbackUpdateAppSwitchModal((t=this.applicationLayoutContext)===null||t===void 0?void 0:t.appSwitchConfig)}async showAppSwitch(){var t;this.callbackUpdateAppSwitchModal=await n((t=this.applicationLayoutContext)===null||t===void 0?void 0:t.appSwitchConfig)}updateIsSlottedContent(){const t=this.hostElement.shadowRoot.querySelector(".content slot");this.hasSlottedElements=p(t)}onContentBgClick(t){if(t.target===this.contentBackground){t.preventDefault()}}render(){var t;const e=!!this.applicationLayoutContext;const o=this.breakpoint==="sm"&&this.suppressResponsive===false&&e;const r=((t=this.applicationLayoutContext)===null||t===void 0?void 0:t.appSwitchConfig)&&this.breakpoint!=="sm"&&this.suppressResponsive===false;return i(s,{key:"d81892c63d0b963455f7b86741241528dd4e65a5",class:{[`breakpoint-${this.breakpoint}`]:true},slot:"application-header"},(this.showMenu||o)&&i("ix-menu-expand-icon",{key:"db19b6cc240df8f3299e671d0ee8a56bdf7f6977",onClick:()=>this.onMenuClick(),expanded:this.menuExpanded}),r&&i("ix-icon-button",{key:"5a31ea7e0007c3ab3b78c96b649f917745bc7435",onClick:()=>this.showAppSwitch(),icon:"apps",ghost:true,class:"app-switch"}),i("div",{key:"4b083dd5ce9023d17371364b541ef0f29ec6d76f",class:{logo:true}},i("slot",{key:"7039706bbb7355302e069e22621b41cd756345d9",name:"logo"})),i("ix-typography",{key:"3f365f3947b52f3788f6d4ec4180c23ec12d2509",format:"body-lg",class:"name"},this.name),i("div",{key:"20427a902bacbe4db73bbaf43fc8a5477d7a13a2",class:"content"},this.breakpoint==="sm"?i(a,null,i("ix-icon-button",{class:{["context-menu"]:true,["context-menu-visible"]:this.hasSlottedElements},"data-context-menu":true,icon:"more-menu",ghost:true}),i("ix-dropdown",{"data-overflow-dropdown":true,class:"dropdown",discoverAllSubmenus:true,trigger:this.resolveContextMenuButton()},i("div",{class:"dropdown-content",onClick:t=>this.onContentBgClick(t)},i("slot",{onSlotchange:()=>this.updateIsSlottedContent()})))):i("slot",{onSlotchange:()=>this.updateIsSlottedContent()}),i("slot",{key:"baea46e8a2cec2e4fbdb99752bf6697cf314855e",name:"ix-application-header-avatar"})))}get hostElement(){return r(this)}static get watchers(){return{applicationLayoutContext:["watchApplicationLayoutContext"],suppressResponsive:["watchSuppressResponsive"]}}};u.style=b;export{u as ix_application_header};
//# sourceMappingURL=p-928209e1.entry.js.map