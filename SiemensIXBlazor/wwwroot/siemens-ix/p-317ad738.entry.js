import{r as e,c as t,h as o,H as r,g as i}from"./p-f87cd962.js";import{c as d}from"./p-e898862b.js";import{h as s}from"./p-345e1c73.js";const a=":host{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;display:flex;flex-direction:column;position:relative;max-width:19.75rem;border-color:var(--theme-group-item--border-color)}:host .group-header{height:4rem;min-height:4rem;max-height:4rem;border-radius:var(--theme-group--border-radius) var(--theme-group--border-radius) 0 0;display:flex;background-color:var(--theme-group-item--background);color:var(--theme-group-header--color);cursor:pointer}:host .group-header:not(.disabled):not(:disabled){cursor:pointer}:host .group-header:not(.disabled):not(:disabled):hover{background-color:var(--theme-group-item--background--hover)}:host .group-header:not(.disabled):not(:disabled):hover.selected{background-color:var(--theme-group-item--background--selected)}:host .group-header:not(.disabled):not(:disabled){cursor:pointer}:host .group-header:not(.disabled):not(:disabled):active,:host .group-header:not(.disabled):not(:disabled).active{background-color:var(--theme-group-item--background--active)}:host .group-header:not(.disabled):not(:disabled):active.selected,:host .group-header:not(.disabled):not(:disabled).active.selected{background-color:var(--theme-group-item--background--selected)}:host .group-header:not(.disabled):not(:disabled):focus-visible{border:1px solid var(--theme-color-focus-bdr);border-radius:var(--theme-default-border-radius) var(--theme-default-border-radius) 0px 0px;outline:none}:host .group-header.selected{background-color:var(--theme-group-item--background--selected)}:host .group-header.selected .group-header-selection-indicator{background-color:var(--theme-group-item-indicator--background--selected)}:host .group-header .group-header-selection-indicator{background-color:var(--theme-color-input--focus)}:host .group-header .group-header-selection-indicator.group-header-selection-indicator-item-selected{background-color:var(--theme-group-item-indicator--background--selected)}:host .group-header-clickable{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;display:flex;width:100%;min-width:0}:host .group-header-selection-indicator{width:0.25rem;border-top-left-radius:var(--theme-group--border-radius)}:host .group-header-content{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;display:flex;flex-direction:row;justify-content:space-between;min-width:0;flex-grow:1;flex-basis:0;padding:0.5rem;padding-left:0}:host .group-header-content .group-header-props-container{width:100%}:host .group-header-content .group-header-title{display:flex;align-items:center;font-size:1rem;font-weight:700;height:1.5rem}:host .group-header-content .group-header-title>*{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;min-width:0;padding-right:0}:host .group-header-content .group-subheader{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;height:1.25rem;font-size:0.875rem;color:var(--theme-group-subheader--color)}:host .expand-icon{padding:0.125rem 0.437rem;color:var(--theme-color-std-text)}:host .btn-expand-header{margin:0.5rem;margin-inline-end:0.25rem;min-width:1.5rem}:host .group-content{display:flex;flex-direction:column;gap:1px;margin-top:1px}:host .footer{visibility:collapse;height:auto;min-height:0}:host .footer-visible{visibility:visible}:host .hidden{display:none}";const h=a;const n=class{constructor(o){e(this,o);this.selectGroup=t(this,"selectGroup",7);this.selectItem=t(this,"selectItem",7);this.collapsedChanged=t(this,"collapsedChanged",7);this.observer=null;this.suppressHeaderSelection=false;this.header=undefined;this.subHeader=undefined;this.collapsed=true;this.selected=false;this.index=undefined;this.expandOnHeaderClick=false;this.itemSelected=false;this.slotSize=this.groupItems.length;this.footerVisible=false;this.showExpandCollapsedIcon=false}get dropdownItems(){return Array.from(this.hostElement.querySelectorAll("ix-group-dropdown-item"))}get groupItems(){return Array.from(this.hostElement.querySelectorAll("ix-group-item:not(.footer)"))}get groupContent(){var e;return(e=this.hostElement.shadowRoot)===null||e===void 0?void 0:e.querySelector(".group-content")}onExpandClick(e){this.collapsed=!this.collapsed;this.collapsedChanged.emit(this.collapsed);e.stopPropagation()}onHeaderClick(e){this.setGroupSelection(!this.selected);if(this.suppressHeaderSelection){this.onExpandClick(e)}}onItemClick(e){const t=e===this.index?undefined:e;this.selectItem.emit(t);this.index=t;if(this.index!==undefined&&this.index>=0){this.itemSelected=true}else this.itemSelected=false;this.setGroupSelection(false)}setGroupSelection(e){if(!this.suppressHeaderSelection){this.selected=e;this.selectGroup.emit(this.selected)}}onSlotChange(){var e;const t=(e=this.hostElement.shadowRoot)===null||e===void 0?void 0:e.querySelector('slot[name="footer"]');if(t){this.footerVisible=s(t)}}componentWillRender(){this.groupItems.forEach(((e,t)=>{if(this.selected===true){e.selected=false;this.index=undefined;this.itemSelected=false;return}e.selected=t===this.index;e.index=t}))}componentDidLoad(){var e;this.observer=d((()=>{this.slotSize=this.groupItems.length}));if(!this.groupContent){return}this.observer.observe(this.groupContent,{childList:true});(e=this.groupContent)===null||e===void 0?void 0:e.addEventListener("selectedChanged",(e=>{if(e.detail.suppressSelection){e.stopPropagation();return}this.onItemClick(e.detail.index)}))}disconnectedCallback(){if(this.observer){this.observer.disconnect()}}render(){return o(r,{key:"d9e4b23029ecef4af672949eb2fcc20a84b8d319"},o("div",{key:"4fa84758ddb45b9b1800860f08fb7937e555f163",class:{"group-header":true,expand:!this.collapsed,selected:this.selected},tabindex:"0"},o("div",{key:"2f73706bd32cf80dab840a62a10a2bd5e8e890bb",class:"group-header-clickable",onClick:e=>this.onHeaderClick(e)},o("div",{key:"02eedb2d1dd2031d90351be4170bc8e3ac16608e",class:{"group-header-selection-indicator":true,"group-header-selection-indicator-item-selected":this.itemSelected}}),o("div",{key:"38fc0002b8c59344fff708e450a316a313c68ead",class:"btn-expand-header"},o("ix-icon",{key:"53d6613b597c46a98dbcc2b70ad1a2c05e2a988c","data-testid":"expand-collapsed-icon",class:{hidden:!this.showExpandCollapsedIcon},name:this.collapsed?"chevron-right-small":"chevron-down-small",onClick:e=>this.onExpandClick(e)})),o("div",{key:"8d01d51e5f9e9c8c0a56cc105dacb9c0864f58e0",class:"group-header-content"},this.header?o("div",{class:"group-header-props-container"},o("div",{class:"group-header-title"},o("span",{title:this.header},this.header)),o("div",{class:"group-subheader",title:this.subHeader},this.subHeader)):null,o("slot",{key:"e3068eec4f08b6f3c42adac3bf027a8b2f7911b2",name:"header"}))),o("ix-group-context-menu",{key:"24d7e19c9b0a1cadc6bd0c6df5092c6df38c55d9"},o("slot",{key:"dfff328c2903d29983759227f28e6790a476a4d6",name:"dropdown"}))),o("div",{key:"39f5c255d4f8161e08e85b1a589b392c38250796",class:{"group-content":true}},o("div",{key:"ce8d7f7d160e667c2c9dd852b6878db5087bc15a",style:{display:this.collapsed?"none":"contents"}},o("slot",{key:"18d19d84b9495e380b4f83f73963262e0c5bac45",onSlotchange:()=>{var e;const t=(e=this.hostElement.shadowRoot)===null||e===void 0?void 0:e.querySelector("slot:not([name])");this.showExpandCollapsedIcon=s(t)}}),o("ix-group-item",{key:"2bcdecd209c82141aee01f62f5ab6feba3261024",suppressSelection:true,focusable:false,class:{footer:true,"footer-visible":this.footerVisible}},o("slot",{key:"0ccc4feb98a216eb62e66328c909f1e14bcbb05d",name:"footer",onSlotchange:()=>this.onSlotChange()})))))}get hostElement(){return i(this)}};n.style=h;export{n as ix_group};
//# sourceMappingURL=p-317ad738.entry.js.map